{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samriti Raj\\\\OneDrive\\\\Desktop\\\\projects\\\\image-to-pdf\\\\src\\\\components\\\\GeneratePDF.js\";\nimport React from \"react\";\nimport jsPDF from \"jspdf\";\nimport html2canvas from \"html2canvas\";\nimport \"./styles.css\"; // Import the common CSS file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GeneratePDF = ({\n  images\n}) => {\n  const generatePDF = async () => {\n    const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n    for (let i = 0; i < images.length; i++) {\n      const img = images[i].preview;\n      const imageElement = document.createElement(\"img\");\n      imageElement.src = img;\n      imageElement.crossOrigin = \"anonymous\";\n      const wrapper = document.createElement(\"div\");\n      wrapper.appendChild(imageElement);\n      const loadImage = new Promise((resolve, reject) => {\n        imageElement.onload = () => resolve(wrapper);\n        imageElement.onerror = err => {\n          console.error(\"Image load error:\", err);\n          reject(new Error(\"Error loading image\"));\n        };\n      });\n      try {\n        const imageWrapper = await loadImage;\n        document.body.appendChild(wrapper);\n        const canvas = await html2canvas(imageWrapper, {\n          imageTimeout: 3000,\n          useCORS: true\n        });\n        const imgData = canvas.toDataURL(\"image/png\");\n        pdf.addImage(imgData, \"PNG\", 60, 60, 250, 0);\n        if (i !== images.length - 1) pdf.addPage();\n        if (i === images.length - 1) {\n          pdf.save(\"converted.pdf\");\n        }\n        document.body.removeChild(wrapper);\n      } catch (error) {\n        console.error(\"Error generating canvas:\", error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: generatePDF,\n    className: \"button\",\n    children: \"Download PDF\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_c = GeneratePDF;\nexport default GeneratePDF;\nvar _c;\n$RefreshReg$(_c, \"GeneratePDF\");","map":{"version":3,"names":["React","jsPDF","html2canvas","jsxDEV","_jsxDEV","GeneratePDF","images","generatePDF","pdf","i","length","img","preview","imageElement","document","createElement","src","crossOrigin","wrapper","appendChild","loadImage","Promise","resolve","reject","onload","onerror","err","console","error","Error","imageWrapper","body","canvas","imageTimeout","useCORS","imgData","toDataURL","addImage","addPage","save","removeChild","onClick","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Samriti Raj/OneDrive/Desktop/projects/image-to-pdf/src/components/GeneratePDF.js"],"sourcesContent":["import React from \"react\";\r\nimport jsPDF from \"jspdf\";\r\nimport html2canvas from \"html2canvas\";\r\nimport \"./styles.css\"; // Import the common CSS file\r\n\r\nconst GeneratePDF = ({ images }) => {\r\n  const generatePDF = async () => {\r\n    const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\r\n\r\n    for (let i = 0; i < images.length; i++) {\r\n      const img = images[i].preview;\r\n\r\n      const imageElement = document.createElement(\"img\");\r\n      imageElement.src = img;\r\n      imageElement.crossOrigin = \"anonymous\"; \r\n\r\n      const wrapper = document.createElement(\"div\");\r\n      wrapper.appendChild(imageElement);\r\n\r\n      const loadImage = new Promise((resolve, reject) => {\r\n        imageElement.onload = () => resolve(wrapper);\r\n        imageElement.onerror = (err) => {\r\n          console.error(\"Image load error:\", err);\r\n          reject(new Error(\"Error loading image\"));\r\n        };\r\n      });\r\n\r\n      try {\r\n        const imageWrapper = await loadImage;\r\n        document.body.appendChild(wrapper); \r\n\r\n        const canvas = await html2canvas(imageWrapper, {\r\n          imageTimeout: 3000,\r\n          useCORS: true,\r\n        });\r\n\r\n        const imgData = canvas.toDataURL(\"image/png\");\r\n        pdf.addImage(imgData, \"PNG\", 60, 60, 250, 0); \r\n\r\n        if (i !== images.length - 1) pdf.addPage(); \r\n\r\n        if (i === images.length - 1) {\r\n          pdf.save(\"converted.pdf\");\r\n        }\r\n\r\n        document.body.removeChild(wrapper);\r\n      } catch (error) {\r\n        console.error(\"Error generating canvas:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <button onClick={generatePDF} className=\"button\">\r\n      Download PDF\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default GeneratePDF;\r\n\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,aAAa;AACrC,OAAO,cAAc,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEvB,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAClC,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,MAAMC,GAAG,GAAG,IAAIP,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC;IAEtC,KAAK,IAAIQ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;MACtC,MAAME,GAAG,GAAGL,MAAM,CAACG,CAAC,CAAC,CAACG,OAAO;MAE7B,MAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAClDF,YAAY,CAACG,GAAG,GAAGL,GAAG;MACtBE,YAAY,CAACI,WAAW,GAAG,WAAW;MAEtC,MAAMC,OAAO,GAAGJ,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAC7CG,OAAO,CAACC,WAAW,CAACN,YAAY,CAAC;MAEjC,MAAMO,SAAS,GAAG,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;QACjDV,YAAY,CAACW,MAAM,GAAG,MAAMF,OAAO,CAACJ,OAAO,CAAC;QAC5CL,YAAY,CAACY,OAAO,GAAIC,GAAG,IAAK;UAC9BC,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEF,GAAG,CAAC;UACvCH,MAAM,CAAC,IAAIM,KAAK,CAAC,qBAAqB,CAAC,CAAC;QAC1C,CAAC;MACH,CAAC,CAAC;MAEF,IAAI;QACF,MAAMC,YAAY,GAAG,MAAMV,SAAS;QACpCN,QAAQ,CAACiB,IAAI,CAACZ,WAAW,CAACD,OAAO,CAAC;QAElC,MAAMc,MAAM,GAAG,MAAM9B,WAAW,CAAC4B,YAAY,EAAE;UAC7CG,YAAY,EAAE,IAAI;UAClBC,OAAO,EAAE;QACX,CAAC,CAAC;QAEF,MAAMC,OAAO,GAAGH,MAAM,CAACI,SAAS,CAAC,WAAW,CAAC;QAC7C5B,GAAG,CAAC6B,QAAQ,CAACF,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC;QAE5C,IAAI1B,CAAC,KAAKH,MAAM,CAACI,MAAM,GAAG,CAAC,EAAEF,GAAG,CAAC8B,OAAO,CAAC,CAAC;QAE1C,IAAI7B,CAAC,KAAKH,MAAM,CAACI,MAAM,GAAG,CAAC,EAAE;UAC3BF,GAAG,CAAC+B,IAAI,CAAC,eAAe,CAAC;QAC3B;QAEAzB,QAAQ,CAACiB,IAAI,CAACS,WAAW,CAACtB,OAAO,CAAC;MACpC,CAAC,CAAC,OAAOU,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF;EACF,CAAC;EAED,oBACExB,OAAA;IAAQqC,OAAO,EAAElC,WAAY;IAACmC,SAAS,EAAC,QAAQ;IAAAC,QAAA,EAAC;EAEjD;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;AAEb,CAAC;AAACC,EAAA,GApDI3C,WAAW;AAsDjB,eAAeA,WAAW;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}